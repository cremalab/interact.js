(function(e){"use strict";function dt(){}function vt(e){return!!e&&(typeof Element==="object"?e instanceof Element:e&&typeof e==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName==="string")}function mt(e,t){bt(t,S);e.pageX=S.x;e.pageY=S.y;wt(t,S);e.clientX=S.x;e.clientY=S.y;e.timeStamp=(new Date).getTime()}function gt(e,t,n){e.pageX=n.pageX-t.pageX;e.pageY=n.pageY-t.pageY;e.clientX=n.clientX-t.clientX;e.clientY=n.clientY-t.clientY;e.timeStamp=(new Date).getTime()-t.timeStamp;var r=Math.max(e.timeStamp/1e3,.001);e.pageSpeed=l(e.pageX,e.pageY)/r;e.pageVX=e.pageX/r;e.pageVY=e.pageY/r;e.clientSpeed=l(e.clientX,e.pageY)/r;e.clientVX=e.clientX/r;e.clientVY=e.clientY/r}function yt(e,t,n){var r,i,s;n=n||{};e=e||"page";if(/touch/.test(t.type)&&t.touches){r=t.touches.length?t.touches[0]:t.changedTouches[0];i=r[e+"X"];s=r[e+"Y"]}else{i=t[e+"X"];s=t[e+"Y"]}n.x=i;n.y=s;return n}function bt(n,r){r=r||{};if(n instanceof Ht){if(/inertiastart/.test(n.type)){bt(x.pointerUp,r);r.x+=x.sx;r.y+=x.sy}else{r.x=n.pageX;r.y=n.pageY}}else if(it){yt("screen",n,r);r.x+=e.scrollX;r.y+=e.scrollY}else if(/gesture|inertia/i.test(n.type)){yt("client",n,r);r.x+=t.documentElement.scrollLeft;r.y+=t.documentElement.scrollTop}else{yt("page",n,r)}return r}function wt(e,t){t=t||{};if(e instanceof Ht){if(/inertiastart/.test(e.type)){wt(x.pointerUp,t);t.x+=x.sx;t.y+=x.sy}else{t.x=e.clientX;t.y=e.clientY}}else{yt(it?"screen":"client",e,t)}return t}function Et(){return{x:e.scrollX||t.documentElement.scrollLeft,y:e.scrollY||t.documentElement.scrollTop}}function St(e){var t=/ipad|iphone|ipod/i.test(navigator.userAgent)?{x:0,y:0}:Et(),n=e instanceof r?e.getBoundingClientRect():e.getClientRects()[0];return n&&{left:n.left+t.x,right:n.right+t.x,top:n.top+t.y,bottom:n.bottom+t.y,width:n.width||n.right-n.left,height:n.heigh||n.bottom-n.top}}function xt(e){var t=[];if(e instanceof Array){t[0]=e[0];t[1]=e[1]}else if(u){t[0]=m[0];t[1]=m[1]}else{t[0]=e.touches[0];if(e.type==="touchend"&&e.touches.length===1){t[1]=e.changedTouches[0]}else{t[1]=e.touches[1]}}return t}function Tt(e){var t=xt(e);return{pageX:(t[0].pageX+t[1].pageX)/2,pageY:(t[0].pageY+t[1].pageY)/2,clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function Nt(e){if(!(e.touches&&e.touches.length)&&!(u&&m.length)){return}var t=xt(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,width:i-n,height:s-r}}function Ct(e){var t=(D&&D.options||F).deltaSource,n=t+"X",r=t+"Y",i=xt(e);var s=i[0][n]-i[1][n],o=i[0][r]-i[1][r];return l(s,o)}function kt(e,t){var n=(D&&D.options||F).deltaSource,r=n+"X",i=n+"Y",s=xt(e),o=s[0][r]-s[1][r],u=s[0][i]-s[1][i],a=180*Math.atan(u/o)/Math.PI;if(typeof t==="number"){var f=a-t,l=f%360;if(l>315){a-=360+a/360|0*360}else if(l>135){a-=180+a/360|0*360}else if(l<-315){a+=360+a/360|0*360}else if(l<-135){a+=180+a/360|0*360}}return a}function Lt(e,t){e=e||D;var n=e?e.options.origin:F.origin;t=t||e._element;if(n==="parent"){n=t.parentNode}else if(n==="self"){n=t}if(vt(n)){n=St(n);n.x=n.left;n.y=n.top}else if(typeof n==="function"){n=n(e&&t)}return n}function At(e){for(var t=0,n=e.length;t<n;t++){e[t].rect=e[t].getRect()}}function Ot(){var e=x.target.options.inertia,t=e.resistance,n=(new Date).getTime()/1e3-x.t0;if(n<x.te){var r=1-(Math.exp(-t*n)-x.lambda_v0)/x.one_ve_v0;if(x.modifiedXe===x.xe&&x.modifiedYe===x.ye){x.sx=x.xe*r;x.sy=x.ye*r}else{var i=_t(0,0,x.xe,x.ye,x.modifiedXe,x.modifiedYe,r);x.sx=i.x;x.sy=i.y}Wt(x.startEvent);x.i=ut(Ot)}else{x.sx=x.modifiedXe;x.sy=x.modifiedYe;x.active=false;Wt(x.startEvent);tn(x.startEvent)}}function Mt(e,t,n,r){var i=1-e;return i*i*t+2*i*e*n+e*e*r}function _t(e,t,n,r,i,s,o){return{x:Mt(o,e,n,i),y:Mt(o,t,r,s)}}function Dt(e){if(e.length){var n,s=e[0],u,a=[],f=[],l,c,h;for(c=1;c<e.length;c++){n=e[c];if(!a.length){u=s;while(u.parentNode!==t){a.unshift(u);u=u.parentNode}}if(s instanceof o&&n instanceof r&&!(n instanceof i)){if(n===s.parentNode){continue}u=n.ownerSVGElement}else{u=n}f=[];while(u.parentNode!==t){f.unshift(u);u=u.parentNode}h=0;while(f[h]&&f[h]===a[h]){h++}var p=[f[h-1],f[h],a[h]];l=p[0].lastChild;while(l){if(l===p[1]){s=n;a=[];break}else if(l===p[2]){break}l=l.previousSibling}}return{element:s,index:e.indexOf(s)}}}function Pt(e,n){if(C.length||A.length){var r,i=[],s=[],o=[],u=[],a,f;n=n||D._element;for(r=0;r<C.length;r++){var l=C[r];if(vt(l.options.accept)){if(l.options.accept!==n){continue}}else if(typeof l.options.accept==="string"){if(!n[st](l.options.accept)){continue}}if(n!==l._element&&l.dropCheck(e,D,n)){i.push(l);s.push(l._element)}}a=Dt(s);f=a?i[a.index]:null;if(A.length){for(r=0;r<A.length;r++){var c=A[r],h=t.querySelectorAll(c.selector);for(var p=0,d=h.length;p<d;p++){c._element=h[p];c.rect=c.getRect();if(vt(c.options.accept)){if(c.options.accept!==n){continue}}else if(typeof c.options.accept==="string"){if(!n[st](c.options.accept)){continue}}if(c._element!==n&&s.indexOf(c._element)===-1&&u.indexOf(c._element===-1)&&c.dropCheck(e,D)){o.push(c);u.push(c._element)}}}if(u.length){if(f){o.push(f);u.push(f._element)}a=Dt(u);if(a){f=o[a.index];if(f.selector){f._element=u[a.index]}}}}return f?{dropzone:f,element:f._element}:null}}function Ht(e,t,n,r,i){var s,o,a=(D&&D.options||F).deltaSource,f=a+"X",c=a+"Y",h=D?D.options:F,v=Lt(D,r);r=r||D._element;if(t==="gesture"){var y=Tt(e);o={x:y.pageX-v.x,y:y.pageY-v.y};s={x:y.clientX-v.x,y:y.clientY-v.y}}else{o=bt(e);s=wt(e);o.x-=v.x;o.y-=v.y;s.x-=v.x;s.y-=v.y;if(h.snapEnabled&&h.snap.actions.indexOf(t)!==-1){this.snap={range:I.range,locked:I.locked,x:I.x,y:I.y,realX:I.realX,realY:I.realY,dx:I.dx,dy:I.dy};if(I.locked){o.x+=I.dx;o.y+=I.dy;s.x+=I.dx;s.y+=I.dy}}}if(D.options.restrict[t]&&q.restricted){o.x+=q.dx;o.y+=q.dy;s.x+=q.dx;s.y+=q.dy;this.restrict={dx:q.dx,dy:q.dy}}this.pageX=o.x;this.pageY=o.y;this.clientX=s.x;this.clientY=s.y;if(n==="start"&&!(e instanceof Ht)){mt(p,this)}this.x0=p.pageX;this.y0=p.pageY;this.clientX0=p.clientX;this.clientY0=p.clientY;this.ctrlKey=e.ctrlKey;this.altKey=e.altKey;this.shiftKey=e.shiftKey;this.metaKey=e.metaKey;this.button=e.button;this.target=r;this.t0=g;this.type=t+(n||"");if(x.active){this.detail="inertia"}if(i){this.relatedTarget=i}if(b&&b.detail==="inertia"&&!x.active&&h.inertia.zeroResumeDelta){this.dx=this.dy=0}else if(n==="end"||t==="drop"){if(a==="client"){this.dx=s.x-p.clientX;this.dy=s.y-p.clientY}else{this.dx=o.x-p.pageX;this.dy=o.y-p.pageY}}else if(n==="inertiastart"){this.dx=b.dx;this.dy=b.dy}else{if(a==="client"){this.dx=s.x-b.clientX;this.dy=s.y-b.clientY}else{this.dx=o.x-b.pageX;this.dy=o.y-b.pageY}}if(t==="resize"){if(h.squareResize||e.shiftKey){if(Q==="y"){this.dx=this.dy}else{this.dy=this.dx}this.axes="xy"}else{this.axes=Q;if(Q==="x"){this.dy=0}else if(Q==="y"){this.dx=0}}}else if(t==="gesture"){this.touches=u?[m[0],m[1]]:e.touches;if(n==="start"){this.distance=Ct(e);this.box=Nt(e);this.scale=1;this.ds=0;this.angle=kt(e);this.da=0}else if(n==="end"||e instanceof Ht){this.distance=b.distance;this.box=b.box;this.scale=b.scale;this.ds=this.scale-1;this.angle=b.angle;this.da=this.angle-T.startAngle}else{this.distance=Ct(e);this.box=Nt(e);this.scale=this.distance/T.startDistance;this.angle=kt(e,T.prevAngle);this.ds=this.scale-T.prevScale;this.da=this.angle-T.prevAngle}}if(n==="start"){this.timeStamp=g;this.dt=0;this.duration=0;this.speed=0;this.velocityX=0;this.velocityY=0}else if(n==="inertiastart"){this.timeStamp=(new Date).getTime();this.dt=b.dt;this.duration=b.duration;this.speed=b.speed;this.velocityX=b.velocityX;this.velocityY=b.velocityY}else{this.timeStamp=(new Date).getTime();this.dt=this.timeStamp-b.timeStamp;this.duration=this.timeStamp-g;var w,E,S;if(n==="end"||e instanceof Ht){S=Math.max((n==="end"?this.duration:this.dt)/1e3,.001);w=this[f]-b[f];E=this[c]-b[c];if(this.snap&&this.snap.locked){w-=this.snap.dx;E-=this.snap.dy}if(this.restrict){w-=this.restrict.dx;E-=this.restrict.dy}if(b.snap&&b.snap.locked){w-=b[f]-b.snap.dx;E-=b[c]-b.snap.dy}if(b.restrict){w+=b.restrict.dx;E+=b.restrict.dy}this.speed=l(w,E)/S;this.velocityX=w/S;this.velocityY=E/S}else{this.speed=d[a+"Speed"];this.velocityX=d[a+"VX"];this.velocityY=d[a+"VY"]}}}function Bt(){this.originalEvent.preventDefault()}function jt(e,t,n){var r={},i,s;for(i in e){if(e.hasOwnProperty(i)){r[i]=e[i]}}r.preventDefault=Bt;r.stopPropagation=Ht.prototype.stopPropagation;r.stopImmediatePropagation=Ht.prototype.stopImmediatePropagation;r.timeStamp=(new Date).getTime();r.originalEvent=e;r.dt=r.timeStamp-g;r.type="tap";var o=r.timeStamp-w,u=E&&E.type!=="dubletap"&&E.target===r.target&&o<500;w=r.timeStamp;for(s=0;s<t.length;s++){var a=Lt(t[s],n[s]);r.pageX-=a.x;r.pageY-=a.y;r.clientX-=a.x;r.clientY-=a.y;r.currentTarget=n[s];t[s].fire(r);if(r.immediatePropagationStopped||r.propagationStopped&&t[s+1]!==r.currentTarget){break}}if(u){var f={};for(i in r){f[i]=r[i]}f.dt=o;f.type="doubletap";for(s=0;s<t.length;s++){f.currentTarget=n[s];t[s].fire(f);if(f.immediatePropagationStopped||f.propagationStopped&&t[s+1]!==f.currentTarget){break}}E=f}else{E=r}}function Ft(e){if(y){if(X||!(e instanceof y.constructor)||y.target!==e.target){return}}var n=[],r=[];var i=e.target;while(i){if(on.isSet(i)){n.push(on(i));r.push(i)}for(var s in L){var o=Element.prototype[st]===ot?t.querySelectorAll(s):undefined;if(i!==t&&i[st](s,o)){n.push(L[s]);r.push(i)}}i=i.parentNode}if(n.length){jt(e,n,r)}}function It(e,t){if(typeof e!=="string"){return null}t=t||D;var n=e.indexOf("resize")!==-1?"resize":e,r=(t||D).options;if((n==="resize"&&r.resizable||e==="drag"&&r.draggable||e==="gesture"&&r.gesturable)&&Y[n]){if(e==="resize"||e==="resizeyx"){e="resizexy"}return e}return null}function qt(e){if(Z&&y&&e.type!==y.type){if(!/^input$|^textarea$/i.test(D._element.nodeName)){e.preventDefault()}return}if(y&&e.type==="mousedown"&&y.type==="touchstart"&&e.timeStamp-y.timeStamp<300){return}var n=e.target instanceof s?e.target.correspondingUseElement:e.target,r;if(u){Xt(e)}if(x.active&&D.selector){while(n&&n!==t){if(n===x.targetElement&&It(D.getAction(e))===Z){at(x.i);x.active=false;if(u){Xt(e,_)}return}n=n.parentNode}}if($||K||V){return}if(O.length&&/mousedown|pointerdown/i.test(e.type)){r=Gt(e,O)}else{var i,o;while(n&&n!==t&&!r){O=[];for(i in L){o=Element.prototype[st]===ot?t.querySelectorAll(i):undefined;if(n[st](i,o)){L[i]._element=n;O.push(L[i])}}r=Gt(e,O);n=n.parentNode}}if(r){W=true;Z=r;return Rt(e,r)}else{g=(new Date).getTime();y=e;mt(c,e);X=false}}function Rt(e,n){if(!n&&W&&y&&e.type!==y.type){if(!/^input$|^textarea$/i.test(D._element.nodeName)){e.preventDefault()}return}W=true;if(u){Xt(e)}if((e.touches&&e.touches.length<2||v&&v.length<2)&&!D||!Z){D=N.get(e.currentTarget)}var r=D&&D.options;if(D&&!($||K||V)){var i=It(n||D.getAction(e));mt(p,e);if(u&&e instanceof u){if(!D._gesture.target){D._gesture.target=D._element}Xt(e,D._gesture)}if(!i){return e}X=false;if(r.styleCursor){t.documentElement.style.cursor=G[i].cursor}Q=i==="resizexy"?"xy":i==="resizex"?"x":i==="resizey"?"y":"";if(i==="gesture"&&(e.touches&&e.touches.length<2||u&&v.length<2)){i=null}Z=i;I.x=null;I.y=null;g=(new Date).getTime();y=e;mt(c,e);X=false;if(!/^input$|^textarea$/i.test(D._element.nodeName)){e.preventDefault()}}else if(x.active&&e.currentTarget===x.targetElement&&D===x.target&&It(D.getAction(e))===Z){at(x.i);x.active=false;if(u){if(!D._gesture.target){D._gesture.target=D._element}Xt(e,D._gesture)}}}function Ut(e,t){var n=D.options.snap,r=n.anchors,i,s,o,u,a,f,c,h,p,d;t=t||I;if(t.useStatusXY){i={x:t.x,y:t.y}}else{var v=Lt(D);i=bt(e);i.x-=v.x;i.y-=v.y}t.realX=i.x;t.realY=i.y;if(n.range<0){n.range=Infinity}if(n.mode==="path"){r=[];for(p=0,d=n.paths.length;p<d;p++){var m=n.paths[p];if(typeof m==="function"){m=m(i.x,i.y)}r.push({x:typeof m.x==="number"?m.x:i.x,y:typeof m.y==="number"?m.y:i.y,range:typeof m.range==="number"?m.range:n.range})}}if((n.mode==="anchor"||n.mode==="path")&&r.length){s={anchor:null,distance:0,range:0,dx:0,dy:0};for(p=0,d=r.length;p<d;p++){var g=r[p];o=typeof g.range==="number"?g.range:n.range;f=g.x-i.x;c=g.y-i.y;h=l(f,c);u=h<o;if(o===Infinity&&s.inRange&&s.range!==Infinity){u=false}if(!s.anchor||(u?s.inRange&&o!==Infinity?h/o<s.distance/s.range:h<s.distance:!s.inRange&&h<s.distance)){if(o===Infinity){u=true}s.anchor=g;s.distance=h;s.range=o;s.inRange=u;s.dx=f;s.dy=c;t.range=o}}u=s.inRange;a=s.anchor.x!==t.x||s.anchor.y!==t.y;t.x=s.anchor.x;t.y=s.anchor.y;t.dx=s.dx;t.dy=s.dy}else if(n.mode==="grid"){var y=Math.round((i.x-n.gridOffset.x)/n.grid.x),b=Math.round((i.y-n.gridOffset.y)/n.grid.y),w=y*n.grid.x+n.gridOffset.x,E=b*n.grid.y+n.gridOffset.y;f=w-i.x;c=E-i.y;h=l(f,c);u=h<n.range;a=w!==t.x||E!==t.y;t.x=w;t.y=E;t.dx=f;t.dy=c;t.range=n.range}t.changed=a||u&&!t.locked;t.locked=u;return t}function zt(e,t){var n=on.currentAction()||Z,r=D&&D.options.restrict[n],i;t=t||q;i=t.useStatusXY?i={x:t.x,y:t.y}:i=bt(e);if(t.snap&&t.snap.locked){i.x+=t.snap.dx||0;i.y+=t.snap.dy||0}t.dx=0;t.dy=0;t.restricted=false;if(!n||!r){return t}var s;if(r==="parent"){r=D._element.parentNode}else if(r==="self"){r=D._element}if(vt(r)){s=St(r)}else{if(typeof r==="function"){r=r(i.x,i.y,D._element)}s=r;if("x"in r&&"y"in r){s={left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height}}}t.dx=Math.max(Math.min(s.right,i.x),s.left)-i.x;t.dy=Math.max(Math.min(s.bottom,i.y),s.top)-i.y;t.restricted=true;return t}function Wt(e,t){if(!W){return}if(!(e instanceof Ht)){mt(h,e)}if(!X){var n=h.clientX-c.clientX,r=h.clientY-c.clientY;X=l(n,r)>1}if(!Z||e.type==="mousemove"&&y.type==="touchstart"){return}if(X&&(!x.active||e instanceof Ht&&/inertiastart/.test(e.type))){if(!($||K||V)){gt(d,c,h)}if(Z&&D){var i=D.options.restrictEnabled&&(!D.options.restrict.endOnly||t),s=!($||K||V),o=s?y:e;if(s){b=y}if(!i){q.restricted=false}if(D.options.snapEnabled&&D.options.snap.actions.indexOf(Z)!==-1&&(!D.options.snap.endOnly||t)){Ut(o);if(I.changed||!I.locked||i){if(i){zt(e)}G[Z].moveListener(e)}}else{if(i){zt(e)}G[Z].moveListener(e)}}}if(!(e instanceof Ht)){gt(d,c,h);mt(c,e)}if($||K){R.edgeMove(e)}}function Xt(e,t){if(v.length&&m[0].pointerType!==e.pointerType){return}if(t){t.addPointer(e.pointerId)}var n=v.indexOf(e.pointerId);if(n===-1){v.push(e.pointerId);m[v.length-1]=e}else{m[n]=e}}function Vt(e){var t=v.indexOf(e.pointerId);if(t===-1){return}v.splice(t,1)}function $t(e){var t=v.indexOf(e.pointerId);if(t===-1){return}if(/move/i.test(e.type)){m[t]=e}else if(/up|cancel/i.test(e.type)){Vt(e);if(V&&v.length<2){D._gesture.stop()}}}function Jt(e){e.preventDefault();var n,r,i,s,o;if(!$){n=new Ht(y,"drag","start");$=true;D.fire(n);if(!J){At(C);for(var u=0;u<A.length;u++){A[u]._elements=t.querySelectorAll(A[u].selector)}}b=n;if(D.options.snapEnabled&&!D.options.snap.endOnly){Ut(e)}}n=new Ht(e,"drag","move");var a=D._element,f=Pt(n,a);if(f){s=f.dropzone;H=f.element}else{s=H=null}D._element=a;if(H!==j){if(B){i=new Ht(e,"drag","leave",j,a);n.dragLeave=j;o=B;B=j=null}if(s){r=new Ht(e,"drag","enter",H,a);n.dragEnter=s._element;B=s;j=B._element}}D.fire(n);if(i){o.fire(i)}if(r){s.fire(r)}b=n}function Kt(e){e.preventDefault();var t;if(!K){t=new Ht(y,"resize","start");D.fire(t);D.fire(t);K=true;b=t;if(D.options.snapEnabled&&!D.options.snap.endOnly){Ut(e)}}t=new Ht(e,"resize","move");D.fire(t);b=t}function Qt(e){if((!e.touches||e.touches.length<2)&&!u){return}e.preventDefault();var t;if(!V){t=new Ht(y,"gesture","start");t.ds=0;T.startDistance=T.prevDistance=t.distance;T.startAngle=T.prevAngle=t.angle;T.scale=1;V=true;D.fire(t);b=t;if(D.options.snapEnabled&&!D.options.snap.endOnly){Ut(e)}}t=new Ht(e,"gesture","move");t.ds=t.scale-T.scale;D.fire(t);b=t;T.prevAngle=t.angle;T.prevDistance=t.distance;if(t.scale!==Infinity&&t.scale!==null&&t.scale!==undefined&&!isNaN(t.scale)){T.scale=t.scale}}function Gt(e,t){for(var n=0,r=t.length;n<r;n++){var i=t[n],s=It(i.getAction(e,i),i);if(s){D=i;return s}}}function Yt(e){if(W||$||K||V){return}var t=[],n=D&&D._element,r=e.target instanceof s?e.target.correspondingUseElement:e.target;for(var i in L){if(L.hasOwnProperty(i)&&L[i]&&r[st](i)){L[i]._element=r;t.push(L[i])}}var o=N.get(r),u=o&&It(o.getAction(e),o);if(u){D=o;O=[]}else{if(Gt(e,t)){O=t;en(e,O);pt.addToElement(r,"mousemove",en)}else if(D){var a=n.querySelectorAll("*");if(Array.prototype.indexOf.call(a,r)!==-1){for(var f=0;f<O.length;f++){O[f]._element=n}en(e,O);pt.addToElement(D._element,"mousemove",en)}else{D=null;O=[]}}}}function Zt(e){if(W||$||K||V){return}var n=e.target instanceof s?e.target.correspondingUseElement:e.target;if(!N.get(n)){pt.removeFromElement(n,en)}if(D&&D.options.styleCursor&&!($||K||V)){t.documentElement.style.cursor=""}}function en(e,n){if(!(W||$||K||V)){var r;if(n){r=Gt(e,n)}else if(D){r=It(D.getAction(e))}if(D&&D.options.styleCursor){if(r){t.documentElement.style.cursor=G[r].cursor}else{t.documentElement.style.cursor=""}}}else if(Z){e.preventDefault()}}function tn(e){if(!(e instanceof Ht||u)&&W&&y&&!(e instanceof y.constructor)){return}if(e.touches&&e.touches.length>=2){return}if(a&&e instanceof a&&/inertiastart/i.test(e.type)){e.gestureObject.stop();return}var t,n=D&&D.options.inertia,r;if($||K||V){if(x.active){return}var i=D.options.deltaSource,s=d[i+"Speed"];if(D.options.inertiaEnabled&&Z!=="gesture"&&n.actions.indexOf(Z)!==-1&&e!==x.startEvent&&(new Date).getTime()-h.timeStamp<50&&s>n.minSpeed&&s>n.endSpeed){var o=n.resistance,f=-Math.log(n.endSpeed/s)/o,l;x.active=true;x.target=D;x.targetElement=D._element;if(pt.useAttachEvent){for(r in e){if(e.hasOwnProperty(r)){x.pointerUp[r]=e[r]}}}else{x.pointerUp=e}x.startEvent=l=new Ht(e,"drag","inertiastart");x.vx0=d[i+"VX"];x.vy0=d[i+"VY"];x.v0=s;x.x0=b.pageX;x.y0=b.pageY;x.t0=x.startEvent.timeStamp/1e3;x.sx=x.sy=0;x.modifiedXe=x.xe=(x.vx0-f)/o;x.modifiedYe=x.ye=(x.vy0-f)/o;x.te=f;x.lambda_v0=o/x.v0;x.one_ve_v0=1-n.endSpeed/x.v0;var c=l.pageX,p=l.pageY,v;if(l.snap&&l.snap.locked){c-=l.snap.dx;p-=l.snap.dy}if(l.restrict){c-=l.restrict.dx;p-=l.restrict.dy}v={useStatusXY:true,x:c+x.xe,y:p+x.ye,dx:0,dy:0,snap:null};v.snap=v;if(D.options.snapEnabled&&D.options.snap.endOnly){var m=Ut(e,v);if(m.locked){x.modifiedXe+=m.dx;x.modifiedYe+=m.dy}}if(D.options.restrictEnabled&&D.options.restrict.endOnly){var g=zt(e,v);x.modifiedXe+=g.dx;x.modifiedYe+=g.dy}at(x.i);x.i=ut(Ot);D.fire(x.startEvent);return}if(D.options.snapEnabled&&D.options.snap.endOnly||D.options.restrictEnabled&&D.options.restrict.endOnly){Wt(e,true)}}if($){t=new Ht(e,"drag","end");var w,E=D._element,S=Pt(t,E);if(S){P=S.dropzone;H=S.element}else{P=null;H=null}D._element=E;if(P){w=new Ht(e,"drop",null,H,E);t.dropzone=H}else if(B){var T=new Ht(e,"drag","leave",H,E);B.fire(T,E);t.dragLeave=j}D.fire(t);if(w){P.fire(w)}}else if(K){t=new Ht(e,"resize","end");D.fire(t)}else if(V){t=new Ht(e,"gesture","end");D.fire(t)}on.stop()}function nn(e,r){var i={},s=M[e.type],o,u=e.target,a;r=r?true:false;for(var f in e){i[f]=e[f]}i.preventDefault=function(){e.preventDefault()};while(u&&u!==t){for(o in s){if(u[st](o)){var l=s[o];i.currentTarget=u;for(a=0;a<l.length;a++){if(l[a][1]!==r){continue}try{l[a][0](i)}catch(c){n.error("Error thrown from delegated listener: "+'"'+o+'" '+e.type+" "+(l[a][0].name?l[a][0].name:""));n.log(c)}}}}u=u.parentNode}}function rn(e){return nn.call(this,e,true)}function sn(){if(D&&!D.selector){D=null}P=H=B=j=null}function on(e){return N.get(e)||new an(e)}function un(e){for(var t in F){if(e.hasOwnProperty(t)&&typeof e[t]===typeof F[t]){this[t]=e[t]}}}function an(e,n){this._element=e;this._iEvents=this._iEvents||{};if(typeof e==="string"){t.querySelector(e);L[e]=this;this.selector=e;this._gesture=_}else{if(vt(e)){if(u){pt.add(this,"pointerdown",Rt);pt.add(this,"pointermove",en);this._gesture=new f;this._gesture.target=e}else{pt.add(this,"mousedown",Rt);pt.add(this,"mousemove",en);pt.add(this,"touchstart",Rt);pt.add(this,"touchmove",en)}}k.push(this)}N.push(this);this.set(n)}var t=e.document,n=e.console,r=e.SVGElement||dt,i=e.SVGSVGElement||dt,s=e.SVGElementInstance||dt,o=e.HTMLElement||e.Element,u=null,a=null,f=null,l=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},c={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},h={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},p={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},d={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0,pageSpeed:0,clientSpeed:0},v=u?[]:null,m=u?[]:null,g=0,y=null,b=null,w=0,E=null,S={},x={active:false,target:null,targetElement:null,startEvent:null,pointerUp:{},xe:0,ye:0,duration:0,t0:0,vx0:0,vys:0,lambda_v0:0,one_ve_v0:0,i:null},T={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},N=[],C=[],k=[],L={},A=[],O=[],M={},_=null,D=null,P=null,H=null,B=null,j=null,F={draggable:false,dropzone:false,accept:null,resizable:false,squareResize:false,gesturable:false,styleCursor:true,snap:{mode:"grid",endOnly:false,actions:["drag"],range:Infinity,grid:{x:100,y:100},gridOffset:{x:0,y:0},anchors:[],paths:[],arrayTypes:/^anchors$|^paths$|^actions$/,objectTypes:/^grid$|^gridOffset$/,stringTypes:/^mode$/,numberTypes:/^range$/,boolTypes:/^endOnly$/},snapEnabled:false,restrict:{drag:null,resize:null,gesture:null,endOnly:false},restrictEnabled:true,autoScroll:{container:e,margin:60,speed:300,numberTypes:/^margin$|^speed$/},autoScrollEnabled:false,inertia:{resistance:10,minSpeed:100,endSpeed:10,actions:["drag","resize"],zeroResumeDelta:false,numberTypes:/^resistance$|^minSpeed$|^endSpeed$/,arrayTypes:/^actions$/,boolTypes:/^zeroResumeDelta$/},inertiaEnabled:false,origin:{x:0,y:0},deltaSource:"page"},I={locked:false,x:0,y:0,dx:0,dy:0,realX:0,realY:0,anchors:[],paths:[]},q={dx:0,dy:0,snap:I,restricted:false},R={target:null,i:null,x:0,y:0,scroll:function(){var t=R.target.options.autoScroll,n=t.container,r=(new Date).getTime(),i=(r-R.prevTime)/1e3,s=t.speed*i;if(s>=1){if(n instanceof e.Window){n.scrollBy(R.x*s,R.y*s)}else if(n){n.scrollLeft+=R.x*s;n.scrollTop+=R.y*s}R.prevTime=r}if(R.isScrolling){at(R.i);R.i=ut(R.scroll)}},edgeMove:function(t){if(D&&D.options.autoScrollEnabled&&($||K)){var n,r,i,s,o=D.options.autoScroll;if(o.container instanceof e.Window){s=t.clientX<R.margin;n=t.clientY<R.margin;r=t.clientX>o.container.innerWidth-R.margin;i=t.clientY>o.container.innerHeight-R.margin}else{var u=St(o.container);s=t.clientX<u.left+R.margin;n=t.clientY<u.top+R.margin;r=t.clientX>u.right-R.margin;i=t.clientY>u.bottom-R.margin}R.x=r?1:s?-1:0;R.y=i?1:n?-1:0;if(!R.isScrolling){R.margin=o.margin;R.speed=o.speed;R.start(D)}}},isScrolling:false,prevTime:0,start:function(e){R.isScrolling=true;at(R.i);R.target=e;R.prevTime=(new Date).getTime();R.i=ut(R.scroll)},stop:function(){R.isScrolling=false;at(R.i)}},U="createTouch"in t,z=U?20:10,W=false,X=false,V=false,$=false,J=false,K=false,Q="xy",G={drag:{cursor:"move",moveListener:Jt},resizex:{cursor:"e-resize",moveListener:Kt},resizey:{cursor:"s-resize",moveListener:Kt},resizexy:{cursor:"se-resize",moveListener:Kt},gesture:{cursor:"",moveListener:Qt}},Y={drag:true,resize:true,gesture:true},Z=null,et="onmousewheel"in t?"mousewheel":"wheel",tt=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","tap","doubletap"],nt={},rt={directBind:0,onevent:1,globalBind:2},it=navigator.appName=="Opera"&&U&&navigator.userAgent.match("Presto"),st="matchesSelector"in Element.prototype?"matchesSelector":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",ot,ut=e.requestAnimationFrame,at=e.cancelAnimationFrame,ft={_element:e,events:{}},lt={_element:t,events:{}},ct={_element:e.parent,events:{}},ht={_element:null,events:{}},pt=function(){function l(e,n,s,l){var c=u.indexOf(e),h=a[c];if(!h){h={events:{},typeCount:0};c=u.push(e)-1;a.push(h);f.push(r?{supplied:[],wrapped:[],useCount:[]}:null)}if(!h.events[n]){h.events[n]=[];h.typeCount++}if(h.events[n].indexOf(s)===-1){var p;if(r){var d=f[c],v=d.supplied.indexOf(s);var m=d.wrapped[v]||function(n){if(!n.immediatePropagationStopped){n.target=n.srcElement;n.currentTarget=e;if(/mouse|click/.test(n.type)){n.pageX=n.clientX+t.documentElement.scrollLeft;n.pageY=n.clientY+t.documentElement.scrollTop}s(n)}};p=e[i](o+n,m,Boolean(l));if(v===-1){d.supplied.push(s);d.wrapped.push(m);d.useCount.push(1)}else{d.useCount[v]++}}else{p=e[i](n,s,l||false)}h.events[n].push(s);return p}}function c(e,t,n,i){var l,h=u.indexOf(e),p=a[h],d,v,m=n;if(!p||!p.events){return}if(r){d=f[h];v=d.supplied.indexOf(n);m=d.wrapped[v]}if(t==="all"){for(t in p.events){if(p.events.hasOwnProperty(t)){c(e,t,"all")}}return}if(p.events[t]){var g=p.events[t].length;if(n==="all"){for(l=0;l<g;l++){c(e,t,p.events[t][l],Boolean(i))}}else{for(l=0;l<g;l++){if(p.events[t][l]===n){e[s](o+t,m,i||false);p.events[t].splice(l,1);if(r&&d){d.useCount[v]--;if(d.useCount[v]===0){d.supplied.splice(v,1);d.wrapped.splice(v,1);d.useCount.splice(v,1)}}break}}}if(p.events[t]&&p.events[t].length===0){p.events[t]=null;p.typeCount--}}if(!p.typeCount){a.splice(h);u.splice(h);f.splice(h)}}var n=e.Event,r="attachEvent"in e&&!("addEventListener"in e),i=!r?"addEventListener":"attachEvent",s=!r?"removeEventListener":"detachEvent",o=r?"on":"",u=[],a=[],f=[];if(!("indexOf"in Array.prototype)){Array.prototype.indexOf=function(e){var t=this.length>>>0;var n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n);if(n<0){n+=t}for(;n<t;n++){if(n in this&&this[n]===e){return n}}return-1}}if(!("stopPropagation"in n.prototype)){n.prototype.stopPropagation=function(){this.cancelBubble=true};n.prototype.stopImmediatePropagation=function(){this.cancelBubble=true;this.immediatePropagationStopped=true}}if(!("preventDefault"in n.prototype)){n.prototype.preventDefault=function(){this.returnValue=false}}if(!("hasOwnProperty"in n.prototype)){n.prototype.hasOwnProperty=Object.prototype.hasOwnProperty}return{add:function(e,t,n,r){l(e._element,t,n,r)},remove:function(e,t,n,r){c(e._element,t,n,r)},addToElement:l,removeFromElement:c,useAttachEvent:r}}();Ht.prototype={preventDefault:dt,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=true},stopPropagation:function(){this.propagationStopped=true}};N.indexOfElement=C.indexOfElement=function(t){for(var n=0;n<this.length;n++){var r=this[n];if(r.selector===t||!r.selector&&r._element===t){return n}}return-1};N.get=function(t){if(typeof t==="string"){return L[t]}return this[this.indexOfElement(t)]};C.get=function(t){return this[this.indexOfElement(t)]};un.prototype=F;an.prototype={setOnEvents:function(e,t){if(e==="drop"){var n=t.ondrop||t.onDrop||t.drop,r=t.ondragenter||t.onDropEnter||t.dragenter,i=t.ondragleave||t.onDropLeave||t.dragleave;if(typeof n==="function"){this.ondrop=n}if(typeof r==="function"){this.ondragenter=r}if(typeof i==="function"){this.ondragleave=i}}else{var s=t.onstart||t.onStart||t.start,o=t.onmove||t.onMove||t.move,u=t.onend||t.onEnd||t.end;var a=t.oninertiastart||t.onInertiaStart||t.inertiastart;e="on"+e;if(typeof s==="function"){this[e+"start"]=s}if(typeof o==="function"){this[e+"move"]=o}if(typeof u==="function"){this[e+"end"]=u}if(typeof a==="function"){this[e+"inertiastart"]=a}}return this},draggable:function(e){if(e instanceof Object){this.options.draggable=true;this.setOnEvents("drag",e);return this}if(typeof e==="boolean"){this.options.draggable=e;return this}if(e===null){delete this.options.draggable;return this}return this.options.draggable},dropzone:function(e){if(e instanceof Object){this.options.dropzone=true;this.setOnEvents("drop",e);this.accept(e.accept);(this.selector?A:C).push(this);if(!J&&!this.selector){this.rect=this.getRect()}return this}if(typeof e==="boolean"){if(e){(this.selector?A:C).push(this);if(!J&&!this.selector){this.rect=this.getRect()}}else{var t=this.selector?A:C,n=t.indexOf(this);if(n!==-1){t.splice(n,1)}}this.options.dropzone=e;return this}if(e===null){delete this.options.dropzone;return this}return this.options.dropzone},dropCheck:function(e,t,n){var r=bt(e),i=Lt(t,n),s,o;r.x+=i.x;r.y+=i.y;if(J){this.rect=this.getRect()}if(!this.rect){return false}s=r.x>this.rect.left&&r.x<this.rect.right;o=r.y>this.rect.top&&r.y<this.rect.bottom;return s&&o},dropChecker:function(e){if(typeof e==="function"){this.dropCheck=e;return this}return this.dropCheck},accept:function(e){if(vt(e)){this.options.accept=e;return this}if(typeof e==="string"){t.querySelector(e);this.options.accept=e;return this}if(e===null){delete this.options.accept;return this}return this.options.accept},resizable:function(e){if(e instanceof Object){this.options.resizable=true;this.setOnEvents("resize",e);return this}if(typeof e==="boolean"){this.options.resizable=e;return this}return this.options.resizable},resizeable:dt,squareResize:function(e){if(typeof e==="boolean"){this.options.squareResize=e;return this}if(e===null){delete this.options.squareResize;return this}return this.options.squareResize},gesturable:function(e){if(e instanceof Object){this.options.gesturable=true;this.setOnEvents("gesture",e);return this}if(typeof e==="boolean"){this.options.gesturable=e;return this}if(e===null){delete this.options.gesturable;return this}return this.options.gesturable},gestureable:dt,autoScroll:function(t){var n=F.autoScroll;if(t instanceof Object){var r=this.options.autoScroll;if(r===n){r=this.options.autoScroll={margin:n.margin,distance:n.distance,interval:n.interval,container:n.container}}r.margin=this.validateSetting("autoScroll","margin",t.margin);r.speed=this.validateSetting("autoScroll","speed",t.speed);r.container=vt(t.container)||t.container instanceof e.Window?t.container:n.container;this.options.autoScrollEnabled=true;this.options.autoScroll=r;return this}if(typeof t==="boolean"){this.options.autoScrollEnabled=t;return this}if(t===null){delete this.options.autoScrollEnabled;delete this.options.autoScroll;return this}return this.options.autoScrollEnabled?this.options.autoScroll:false},snap:function(e){var t=F.snap;if(e instanceof Object){var n=this.options.snap;if(n===t){n={}}n.mode=this.validateSetting("snap","mode",e.mode);n.endOnly=this.validateSetting("snap","endOnly",e.endOnly);n.actions=this.validateSetting("snap","actions",e.actions);n.range=this.validateSetting("snap","range",e.range);n.paths=this.validateSetting("snap","paths",e.paths);n.grid=this.validateSetting("snap","grid",e.grid);n.gridOffset=this.validateSetting("snap","gridOffset",e.gridOffset);n.anchors=this.validateSetting("snap","anchors",e.anchors);this.options.snapEnabled=true;this.options.snap=n;return this}if(typeof e==="boolean"){this.options.snapEnabled=e;return this}if(e===null){delete this.options.snapEnabled;delete this.options.snap;return this}return this.options.snapEnabled?this.options.snap:false},inertia:function(e){var t=F.inertia;if(e instanceof Object){var n=this.options.inertia;if(n===t){n=this.options.inertia={resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions,zeroResumeDelta:t.zeroResumeDelta}}n.resistance=this.validateSetting("inertia","resistance",e.resistance);n.minSpeed=this.validateSetting("inertia","minSpeed",e.minSpeed);n.endSpeed=this.validateSetting("inertia","endSpeed",e.endSpeed);n.actions=this.validateSetting("inertia","actions",e.actions);n.zeroResumeDelta=this.validateSetting("inertia","zeroResumeDelta",e.zeroResumeDelta);this.options.inertiaEnabled=true;this.options.inertia=n;return this}if(typeof e==="boolean"){this.options.inertiaEnabled=e;return this}if(e===null){delete this.options.inertiaEnabled;delete this.options.inertia;return this}return this.options.inertiaEnabled?this.options.inertia:false},getAction:function(t){var n=this.getRect(),r,i,s,o=bt(t),a=this.options;if(Y.resize&&a.resizable){r=o.x>n.right-z;i=o.y>n.bottom-z}Q=(r?"x":"")+(i?"y":"");s=Q?"resize"+Q:Y.drag&&a.draggable?"drag":null;if(Y.gesture&&(t.touches&&t.touches.length>=2||u&&v.length>=2)&&!($||K)){s="gesture"}return s},actionChecker:function(e){if(typeof e==="function"){this.getAction=e;return this}if(e===null){delete this.options.getAction;return this}return this.getAction},getRect:function(){if(this.selector&&!vt(this._element)){this._element=t.querySelector(this.selector)}return St(this._element)},rectChecker:function(e){if(typeof e==="function"){this.getRect=e;return this}if(e===null){delete this.options.getRect;return this}return this.getRect},styleCursor:function(e){if(typeof e==="boolean"){this.options.styleCursor=e;return this}if(e===null){delete this.options.styleCursor;return this}return this.options.styleCursor},origin:function(e){if(e instanceof Object||/^parent$|^self$/.test(e)){this.options.origin=e;return this}if(e===null){delete this.options.origin;return this}return this.options.origin},deltaSource:function(e){if(e==="page"||e==="client"){this.options.deltaSource=e;return this}if(e===null){delete this.options.deltaSource;return this}return this.options.deltaSource},restrict:function(e){if(e===undefined){return this.options.restrict}if(e instanceof Object){var t={};if(e.drag instanceof Object||/^parent$|^self$/.test(e.drag)){t.drag=e.drag}if(e.resize instanceof Object||/^parent$|^self$/.test(e.resize)){t.resize=e.resize}if(e.gesture instanceof Object||/^parent$|^self$/.test(e.gesture)){t.gesture=e.gesture}if(typeof e.endOnly==="boolean"){t.endOnly=e.endOnly}this.options.restrictEnabled=true;this.options.restrict=t}else if(e===null){delete this.options.restrict;delete this.options.restrictEnabled}return this},validateSetting:function(e,t,n){var r=F[e],i=this.options[e];if(r!==undefined&&r[t]!==undefined){if("objectTypes"in r&&r.objectTypes.test(t)){if(n instanceof Object){return n}else{return t in i&&i[t]instanceof Object?i[t]:r[t]}}if("arrayTypes"in r&&r.arrayTypes.test(t)){if(n instanceof Array){return n}else{return t in i&&i[t]instanceof Array?i[t]:r[t]}}if("stringTypes"in r&&r.stringTypes.test(t)){if(typeof n==="string"){return n}else{return t in i&&typeof i[t]==="string"?i[t]:r[t]}}if("numberTypes"in r&&r.numberTypes.test(t)){if(typeof n==="number"){return n}else{return t in i&&typeof i[t]==="number"?i[t]:r[t]}}if("boolTypes"in r&&r.boolTypes.test(t)){if(typeof n==="boolean"){return n}else{return t in i&&typeof i[t]==="boolean"?i[t]:r[t]}}if("elementTypes"in r&&r.elementTypes.test(t)){if(vt(n)){return n}else{return t in i&&vt(i[t])?i[t]:r[t]}}}return null},element:function(){return this._element},fire:function(e){if(!(e&&e.type)||tt.indexOf(e.type)===-1){return this}var t,r=0,i=0,s,o="on"+e.type;while(r<3){try{switch(r){case rt.directBind:if(e.type in this._iEvents){t=this._iEvents[e.type];for(s=t.length;i<s&&!e.immediatePropagationStopped;i++){t[i](e)}break}break;case rt.onevent:if(typeof this[o]==="function"){this[o](e)}break;case rt.globalBind:if(e.type in nt&&(t=nt[e.type])){for(s=t.length;i<s&&!e.immediatePropagationStopped;i++){t[i](e)}}}if(e.propagationStopped){break}i=0;r++}catch(u){n.error("Error thrown from "+e.type+" listener");n.error(u);i++;if(r===rt.onevent){r++}}}return this},on:function(e,t,n){if(e==="wheel"){e=et}if(tt.indexOf(e)!==-1){if(!(e in this._iEvents)){this._iEvents[e]=[t]}else if(this._iEvents[e].indexOf(t)===-1){this._iEvents[e].push(t)}}else if(this.selector){if(!M[e]){M[e]={}}var r=M[e];if(!r[this.selector]){r[this.selector]=[]}r[this.selector].push([t,n?true:false]);pt.add(lt,e,n?rn:nn,n)}else{pt.add(this,e,t,n)}return this},off:function(e,t,n){var r,i=-1;n=n?true:false;if(e==="wheel"){e=et}if(tt.indexOf(e)!==-1){r=this._iEvents[e];if(r&&(i=r.indexOf(t))!==-1){this._iEvents[e].splice(i,1)}}else if(this.selector){var s=M[e];if(s&&(r=s[this.selector])){for(i=0;i<r.length;i++){if(r[i][1]===n){break}}if(i<r.length){r.splice(i,1)}}}else{pt.remove(this._element,t,n)}return this},set:function(e){if(!e||typeof e!=="object"){e={}}this.options=new un(e);this.draggable("draggable"in e?e.draggable:this.options.draggable);this.dropzone("dropzone"in e?e.dropzone:this.options.dropzone);this.resizable("resizable"in e?e.resizable:this.options.resizable);this.gesturable("gesturable"in e?e.gesturable:this.options.gesturable);if("autoScroll"in e){this.autoScroll(e.autoScroll)}return this},unset:function(){pt.remove(this,"all");if(typeof this.selector==="string"){delete L[this.selector]}else{pt.remove(this,"all");if(this.options.styleCursor){this._element.style.cursor=""}if(this._gesture){this._gesture.target=null}k.splice(k.indexOf(this.element()))}this.dropzone(false);N.splice(N.indexOf(this),1);return on}};an.prototype.gestureable=an.prototype.gesturable;an.prototype.resizeable=an.prototype.resizable;on.isSet=function(e){return N.indexOfElement(e)!==-1};on.on=function(e,t,n){if(tt.indexOf(e)!==-1){if(!nt[e]){nt[e]=[t]}else if(nt[e].indexOf(t)===-1){nt[e].push(t)}}else{pt.add(lt,e,t,n)}return on};on.off=function(e,t,n){if(tt.indexOf(e)===-1){pt.remove(lt,e,t,n)}else{var r;if(e in nt&&(r=nt[e].indexOf(t))!==-1){nt[e].splice(r,1)}}return on};on.simulate=function(e,t,n){var i={},s,o;if(e==="resize"){e="resizexy"}if(!(e in G)){return on}if(n){for(s in n){if(n.hasOwnProperty(s)){i[s]=n[s]}}}else{o=D._element instanceof r?t.getBoundingClientRect():o=t.getClientRects()[0];if(e==="drag"){i.pageX=o.left+o.width/2;i.pageY=o.top+o.height/2}else{i.pageX=o.right;i.pageY=o.bottom}}i.target=i.currentTarget=t;i.preventDefault=i.stopPropagation=dt;Rt(i,e);return on};on.enableDragging=function(e){if(e!==null&&e!==undefined){Y.drag=e;return on}return Y.drag};on.enableResizing=function(e){if(e!==null&&e!==undefined){Y.resize=e;return on}return Y.resize};on.enableGesturing=function(e){if(e!==null&&e!==undefined){Y.gesture=e;return on}return Y.gesture};on.eventTypes=tt;on.debug=function(){return{target:D,dragging:$,resizing:K,gesturing:V,prepared:Z,prevCoords:c,downCoords:p,pointerIds:v,pointerMoves:m,addPointer:Xt,removePointer:Vt,recordPointers:$t,inertia:x,downTime:g,downEvent:y,prevEvent:b,Interactable:an,IOptions:un,interactables:N,dropzones:C,pointerIsDown:W,defaultOptions:F,actions:G,dragMove:Jt,resizeMove:Kt,gestureMove:Qt,pointerUp:tn,pointerDown:Rt,pointerMove:Wt,pointerHover:en,events:pt,globalEvents:nt,delegatedEvents:M}};on.getTouchAverage=Tt;on.getTouchBBox=Nt;on.getTouchDistance=Ct;on.getTouchAngle=kt;on.getElementRect=St;on.margin=function(e){if(typeof e==="number"){z=e;return on}return z};on.styleCursor=function(e){if(typeof e==="boolean"){F.styleCursor=e;return on}return F.styleCursor};on.autoScroll=function(t){var n=F.autoScroll;if(t instanceof Object){F.autoScrollEnabled=true;if(typeof t.margin==="number"){n.margin=t.margin}if(typeof t.speed==="number"){n.speed=t.speed}n.container=vt(t.container)||t.container instanceof e.Window?t.container:n.container;return on}if(typeof t==="boolean"){F.autoScrollEnabled=t;return on}return F.autoScrollEnabled?n:false};on.snap=function(e){var t=F.snap;if(e instanceof Object){F.snapEnabled=true;if(typeof e.mode==="string"){t.mode=e.mode}if(typeof e.endOnly==="boolean"){t.endOnly=e.endOnly}if(typeof e.range==="number"){t.range=e.range}if(e.actions instanceof Array){t.actions=e.actions}if(e.anchors instanceof Array){t.anchors=e.anchors}if(e.grid instanceof Object){t.grid=e.grid}if(e.gridOffset instanceof Object){t.gridOffset=e.gridOffset}return on}if(typeof e==="boolean"){F.snapEnabled=e;return on}return{enabled:F.snapEnabled,mode:t.mode,actions:t.actions,grid:t.grid,gridOffset:t.gridOffset,anchors:t.anchors,paths:t.paths,range:t.range,locked:I.locked,x:I.x,y:I.y,realX:I.realX,realY:I.realY,dx:I.dx,dy:I.dy}};on.inertia=function(e){var t=F.inertia;if(e instanceof Object){F.inertiaEnabled=true;if(typeof e.resistance==="number"){t.resistance=e.resistance}if(typeof e.minSpeed==="number"){t.minSpeed=e.minSpeed}if(typeof e.endSpeed==="number"){t.endSpeed=e.endSpeed}if(typeof e.zeroResumeDelta==="boolean"){t.zeroResumeDelta=e.zeroResumeDelta}if(e.actions instanceof Array){t.actions=e.actions}return on}if(typeof e==="boolean"){F.inertiaEnabled=e;return on}return{enabled:F.inertiaEnabled,resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions,zeroResumeDelta:t.zeroResumeDelta}};on.supportsTouch=function(){return U};on.currentAction=function(){return $&&"drag"||K&&"resize"||V&&"gesture"||null};on.stop=function(e){if($||K||V){R.stop();O=[];if(D.options.styleCursor){t.documentElement.style.cursor=""}if(D._gesture){D._gesture.stop()}sn();for(var n=0;n<A.length;n++){A._elements=[]}if(e&&typeof e.preventDefault==="function"){e.preventDefault()}}if(v&&v.length){v.splice(0);m.splice(0)}W=I.locked=$=K=V=false;Z=b=null;return on};on.dynamicDrop=function(e){if(typeof e==="boolean"){if($&&J!==e&&!e){At(C)}J=e;return on}return J};on.deltaSource=function(e){if(e==="page"||e==="client"){F.deltaSource=e;return this}return F.deltaSource};on.restrict=function(e){var t=F.restrict;if(e===undefined){return F.restrict}if(e instanceof Object){if(e.drag instanceof Object||/^parent$|^self$/.test(e.drag)){t.drag=e.drag}if(e.resize instanceof Object||/^parent$|^self$/.test(e.resize)){t.resize=e.resize}if(e.gesture instanceof Object||/^parent$|^self$/.test(e.gesture)){t.gesture=e.gesture}if(typeof e.endOnly==="boolean"){t.endOnly=e.endOnly}}else if(e===null){t.drag=t.resize=t.gesture=null;t.endOnly=false}return this};if(u){pt.add(lt,"pointerup",Ft);pt.add(lt,"pointerdown",qt);pt.add(lt,"MSGestureChange",Wt);pt.add(lt,"MSGestureEnd",tn);pt.add(lt,"MSInertiaStart",tn);pt.add(lt,"pointerover",Yt);pt.add(lt,"pointerout",Zt);pt.add(lt,"pointermove",$t);pt.add(lt,"pointerup",$t);pt.add(lt,"pointercancel",$t);pt.add(lt,"pointerup",function(){if(!($||K||V)){W=false}});_=new f;_.target=t.documentElement}else{pt.add(lt,"mouseup",Ft);pt.add(lt,"touchend",Ft);pt.add(lt,"mousedown",qt);pt.add(lt,"mousemove",Wt);pt.add(lt,"mouseup",tn);pt.add(lt,"mouseover",Yt);pt.add(lt,"mouseout",Zt);pt.add(lt,"touchstart",qt);pt.add(lt,"touchmove",Wt);pt.add(lt,"touchend",tn);pt.add(lt,"touchcancel",tn)}pt.add(ft,"blur",tn);try{if(e.frameElement){ht._element=e.frameElement.ownerDocument;pt.add(ht,"mouseup",tn);pt.add(ht,"touchend",tn);pt.add(ht,"touchcancel",tn);pt.add(ht,"pointerup",tn);pt.add(ct,"blur",tn)}}catch(fn){on.windowParentError=fn}pt.add(lt,"selectstart",function(e){if($||K||V){e.preventDefault()}});if(!(st in Element.prototype)||typeof Element.prototype[st]!=="function"){Element.prototype[st]=ot=function(e,t){t=t||this.parentNode.querySelectorAll(e);var n=t.length;for(var r=0;r<n;r++){if(t[r]===this){return true}}return false}}(function(){var t=0,n=["ms","moz","webkit","o"];for(var r=0;r<n.length&&!e.requestAnimationFrame;++r){ut=e[n[r]+"RequestAnimationFrame"];at=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"]}if(!ut){ut=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),s=e.setTimeout(function(){n(r+i)},i);t=r+i;return s}}if(!at){at=function(e){clearTimeout(e)}}})();if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=on}exports.interact=on}else{e.interact=on}})(this)
